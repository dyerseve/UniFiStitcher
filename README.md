# UniFiStitcher
 
This script will take several mp4 files and stitch them into a single continuous mp4 output file.
This was created specifically to bypass a 10 minute video file limit on Ubiquiti UniFi cameras that only allows downloading videos split into 10 minute segments.

There are a few variables to set before you get started and one external product:

You can also drop the zip file downloaded from the unifi video controller into the $ipath location and let it extract the files for you.

# Dependencies
You need FFMPEG command line tool installed somewhere.

# Variables
$cleanup = $True  #Determines if you remove source files when the work is done.
$ofile = "C:\scripts\VideoOutput.mp4" #destination file
$ipath = "C:\UniFiStitchWorkspace" #input file location, a scratch space if you will
$ffmpegcmd = "C:\Programs\ffmpeg\bin\ffmpeg.exe" #ffmpeg exe location
$stitchfilelist = "$ipath\stitchlist.txt" #the list to feed ffmpeg (it will be generated by the script)
$ffmpegArgs = @('-f', 'concat', '-safe', '0', '-i', $stitchfilelist, '-y', '-c', 'copy', $ofile) #parameters for ffmpeg no need to change these for UniFi video tasks

